= AI Ontology Bot Reference Implementation

A knowledge graph-based AI agent system. It leverages Neo4j graph database and LLMs to search and analyze ontology-based data using natural language.

== Features

* *ReAct Agent*: Complex query processing through multi-step reasoning
* *Multiple RAG Pipelines*: Automatic routing across Cypher, Vector, Hybrid, and LLM-only pipelines
* *REST API*: FastAPI-based HTTP endpoints
* *MCP Server*: Model Context Protocol support for Claude Desktop integration (v1 single agent + v2 multi-agent)
* *A2A Server*: Agent-to-Agent protocol support
* *Elasticsearch Logging*: Real-time query/response logging and analysis

== Quick Start

=== Environment Setup

[source,sh]
----
# Install dependencies
pip install -r requirements.txt

# Configure environment variables (see .env.example)
cp .env.example .env
# Set NEO4J_URI, NEO4J_USERNAME, NEO4J_PASSWORD, OPENAI_API_KEY in .env

# Verify environment
python -m genai-fundamentals.tools.verify_environment
----

=== Running the API Server

[source,sh]
----
# REST API server (default port: 8000)
python -m genai-fundamentals.api.server

# A2A server (default port: 9000)
python -m genai-fundamentals.api.a2a_server

# MCP server (stdio mode, for Claude Desktop)
python -m genai-fundamentals.api.mcp_server
----

=== API Testing

[source,sh]
----
# REST API query (v1 single agent)
curl -X POST http://localhost:8000/agent/query \
  -H "Content-Type: application/json" \
  -d '{"query": "What entities are connected to X?"}'

# REST API query (v2 multi-agent)
curl -X POST http://localhost:8000/v2/query \
  -H "Content-Type: application/json" \
  -d '{"query": "Show shipment status", "preferred_domain": "auto"}'

# A2A AgentCard lookup
curl http://localhost:9000/.well-known/agent.json
----

=== MCP Tools

The MCP server provides the following tools:

[cols="1,3"]
|===
| Tool | Description

| `agent_query` | v1 single ReAct Agent query
| `multi_agent_query` | v2 multi-agent domain query (auto-routing across WMS/TMS/FMS/TAP/Memory)
| `list_agents` | List registered domain agents
| `reset_session` | Reset session context
| `list_sessions` | List active sessions
|===

== Architecture

----
┌─────────────────────────────────────────────────────┐
│                   AI Ontology Bot                   │
├─────────────────────────────────────────────────────┤
│  Clients: REST API | MCP | A2A | Streamlit|Chainlit │
├─────────────────────────────────────────────────────┤
│  v1: ReAct Agent (LangGraph)                         │
│  ├─ cypher_query: Entity/relationship lookup          │
│  ├─ vector_search: Semantic search                    │
│  ├─ hybrid_search: Combined search                    │
│  └─ get_schema: Schema lookup                         │
├─────────────────────────────────────────────────────┤
│  v2: Multi-Agent Orchestrator                        │
│  ├─ WMS: Warehouse  ├─ TMS: Transport                │
│  ├─ FMS: Fleet      ├─ TAP: Call service              │
│  ├─ Memory: User info store/recall                    │
│  └─ Cross-domain query support                        │
├─────────────────────────────────────────────────────┤
│  Neo4j Graph Database | LLM Provider (OpenAI/etc)   │
└─────────────────────────────────────────────────────┘
----

== Tests

[source,sh]
----
# Run all tests
pytest genai-fundamentals/tests/ -v

# Mock tests only (no external API calls)
pytest genai-fundamentals/tests/ -v -k "not integration"

# Solution tests
pytest genai-fundamentals/solutions/test_solutions.py -v
----

== Documentation

For detailed usage, see link:CLAUDE.md[CLAUDE.md].

== License

MIT License
